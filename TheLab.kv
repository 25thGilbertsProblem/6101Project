ScreenManager:
    MenuScreen:
        name: "menu"
    NoteScreen:
        name: "note"
    SleepScreen:
        name: "sleep"
    TaskScreen:
        name: "task"
    OptionScreen:
        name: "option"
    TestScreen:
        name: "test"

<MenuScreen>:

    MDBoxLayout:
        orientation: 'vertical'


        MDScreen:

            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    on_action_button: app.tt2_start()



            MDCard:
                radius:180
                elevation:0
                size_hint_x: ".55"
                size_hint_y: ".3"
                pos_hint: {"center_x": .5, "center_y": .55}




            #Task

            MDFloatingActionButton:

                icon: "check-bold"
                pos_hint: {"center_x": .4, "center_y": .6}
                theme_icon_color: "Custom"
                user_font_size: "35sp"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'task'


            #Sleep
            MDFloatingActionButton:

                icon: "sleep"
                user_font_size: "35sp"
                pos_hint: {"center_x": .4, "center_y": .5}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'sleep'

            #Notes
            MDFloatingActionButton:

                icon: "square"
                user_font_size: "35sp"
                pos_hint: {"center_x": .6, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'note'


            #Option
            MDFloatingActionButton:

                icon: "cog"
                user_font_size: "35sp"
                pos_hint: {"center_x": .6, "center_y": .5}
                theme_icon_color: "Custom"
                md_bg_color: .5, .5, .5,
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'option'

            #Test1
            MDFloatingActionButton:

                icon: "triangle"
                user_font_size: "30sp"
                pos_hint: {"center_x": .7, "center_y": .35}
                theme_icon_color: "Custom"
                md_bg_color: .5, .5, .5,
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'test'

            #Help1

            MDFloatingActionButton:

                id: help
                elevation:0
                icon: "help"
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {"center_x": .3, "center_y": .35}
                on_release: app.tt1_start()


<NoteScreen>:

    MDScreen:
        MDGridLayout:
            id:note_id
            cols:2


        MDBottomAppBar:
            MDToolbar:
                elevation: 0
                mode: 'end'
                type: 'bottom'
                icon: 'plus'
                icon_color: .7, .2, .1,
                left_action_items:
                    [["arrow-left", lambda x: root.set_screen_menu()],
                    ["check-bold", lambda x: root.set_screen_task()],
                    ["sleep", lambda x: root.set_screen_sleep()]]



                on_action_button: root.add_test()











<SleepScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:

            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    user_font_size: "35sp"
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()],
                        ["check-bold", lambda x: root.set_screen_task()],
                        ["square", lambda x: root.set_screen_note()]]




                    on_action_button:  app.show_time_picker()



            MDLabel:
                text: 'Советы для улучшения сна:'
                halign: 'center'
                pos_hint: {'center_x': 0.5, 'center_y': 0.94}
                font_size: 50

            MDRoundFlatButton:
                text: 'actual hint'
                halign: 'center'
                pos_hint: {'center_x': 0.5, 'center_y': 0.74}
                font_size: 30
                on_press: root.prove()
                text: root.hint



<TaskScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:


            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()],
                        ["sleep", lambda x:  root.set_screen_sleep()],
                        ["square", lambda x: root.set_screen_note()]]

                    on_action_button:app.navigation_draw()

<OptionScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:


            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()]]

                    on_action_button:app.navigation_draw()

            MDRoundFlatButton:
                icon: "sleep"
                text: "NIGHT THEME"
                width: dp(20)
                size_hint_x: ".5"
                size_hint_y: ".1"
                pos_hint: {"center_x": .5, "center_y": .45}
                on_press:

                    app.theme_cls.theme_style = "Light" if app.theme_cls.theme_style == "Dark" else 'Dark'

            MDCard:
                radius:50
                size_hint_x: ".65"
                size_hint_y: ".25"
                pos_hint: {"center_x": .5, "center_y": .65}



            #ColorButtons

            #Orange
            MagicFAB:

                icon: "circle"

                user_font_size: "38sp"
                theme_text_color: "Custom"
                pos_hint: {"center_x": .7, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Orange"

            #BlueGray
            MagicFAB:

                icon: "circle"
                user_font_size: "38sp"
                pos_hint: {"center_x": .5, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "BlueGray"

            #Brown
            MagicFAB:

                icon: "circle"
                user_font_size: "38sp"
                pos_hint: {"center_x": .3, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Brown"

            #Teal
            MagicFAB:

                icon: "circle"
                user_font_size: "38sp"
                pos_hint: {"center_x": .3, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Teal"

            #Amber
            MagicFAB:

                icon: "circle"
                user_font_size: "38sp"
                pos_hint: {"center_x": .5, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Amber"

            #Blue
            MagicFAB:

                icon: "circle"
                user_font_size: "38sp"
                text_color: 0, 0.2, 8, 1
                pos_hint: {"center_x": .7, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Blue"

            #Help2

            MDFloatingActionButton:

                id: help
                elevation:0
                icon: "help"
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {"center_x": .3, "center_y": .35}
                on_release: app.tap_target_start()



<TestScreen>:


    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            id: toolbar
            title: "Записи"
            left_action_items:  [["arrow-left", lambda x: root.set_screen_menu()]]
            right_action_items: [["magnify"], ["dots-vertical"]]

        MDBoxLayout:
            padding: "24dp", "8dp", 0, "8dp"
            adaptive_size: True


        ScrollView:

            MDSelectionList:
                id: test_id
                spacing: "12dp"
                overlay_color: app.overlay_color[:-1] + [.2]
                icon_bg_color: app.overlay_color

                on_selected: app.on_selected(*args)
                on_unselected: app.on_unselected(*args)
                on_selected_mode: app.set_selection_mode(*args)




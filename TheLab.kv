ScreenManager:
    MenuScreen:
        name: "menu"
    NoteScreen:
        name: "note"
    SleepScreen:
        name: "sleep"
    TimeScreen:
        name: 'time'
    TaskScreen:
        name: "task"
    OptionScreen:
        name: "option"
    TestScreen:
        name: "test"


<MenuScreen>:

    MDBoxLayout:
        orientation: 'vertical'


        MDScreen:

            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    on_action_button:app.navigation_draw()



            MDCard:
                radius:50
                size_hint_x: ".45"
                size_hint_y: ".25"
                pos_hint: {"center_x": .5, "center_y": .55}



            #Task

            MDFloatingActionButton:

                icon: "check-bold"
                pos_hint: {"center_x": .4, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'task'


            #Sleep
            MDFloatingActionButton:

                icon: "sleep"
                pos_hint: {"center_x": .4, "center_y": .5}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'sleep'

            #Notes
            MDFloatingActionButton:

                icon: "square"
                pos_hint: {"center_x": .6, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'note'


            #Option
            MDFloatingActionButton:

                icon: "cog"
                pos_hint: {"center_x": .6, "center_y": .5}
                theme_icon_color: "Custom"
                md_bg_color: .5, .5, .5,
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'option'

            #Test1
            MDFloatingActionButton:

                icon: "triangle"
                pos_hint: {"center_x": .8, "center_y": .8}
                theme_icon_color: "Custom"
                md_bg_color: .5, .5, .5,
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = 'test'

            #Test2

            MDFloatingActionButton:

                id: test2
                icon: "plus"
                pos_hint: {"center_x": .35, "center_y": .35}
                on_release: app.tap_target_start()


<NoteScreen>:

    MDScreen:
        MDGridLayout:
            id:note_id
            cols:2


        MDBottomAppBar:
            MDToolbar:
                elevation: 0
                mode: 'end'
                type: 'bottom'
                icon: 'plus'
                icon_color: .7, .2, .1,
                left_action_items:
                    [["arrow-left", lambda x: root.set_screen_menu()],
                    ["check-bold", lambda x: root.set_screen_task()],
                    ["sleep", lambda x: root.set_screen_sleep()]]



                on_action_button: root.add_test()











<SleepScreen>:


    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:


            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()],
                        ["check-bold", lambda x: root.set_screen_task()],
                        ["square", lambda x: root.set_screen_note()]]




                    on_action_button:  app.show_time_picker()



            MDLabel:
                text: 'Советы для улучшения сна:'
                halign: 'center'
                pos_hint: {'center_x': 0.5, 'center_y': 0.94}
                font_size: 30

            MDBottomAppBar:

                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()],
                        ["check-bold", lambda x: root.set_screen_task()],
                        ["square", lambda x: root.set_screen_note()],
                        ['arrow-right', lambda x: root.set_screen_time()]]




                    on_action_button:  app.show_time_picker()



<TimeScreen>:
    MDBoxLayout:
        orientation: 'vertical'

        MDCard:
            id: box

        MDScreen:
            MDRaisedButton:
                text: "Open time picker"
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_release: root.show_time_picker()

            MDLabel:
                id: time_label
                text: 'text'
                pos_hint: {'center_x': .95, 'center_y': .4}


            MDBottomAppBar:

                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_sleep()],
                        ["check-bold", lambda x: root.set_screen_task()],
                        ["square", lambda x: root.set_screen_note()]]

<TaskScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:


            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()],
                        ["sleep", lambda x:  root.set_screen_sleep()],
                        ["square", lambda x: lambda x:  root.set_screen_note()]]

                    on_action_button:app.navigation_draw()

<OptionScreen>:

    MDBoxLayout:
        orientation: 'vertical'

        MDScreen:


            MDBottomAppBar:
                MDToolbar:
                    elevation:0
                    mode: 'end'
                    type: 'bottom'
                    icon: 'plus'
                    icon_color: .7, .2, .1,
                    left_action_items:
                        [["arrow-left", lambda x: root.set_screen_menu()]]

                    on_action_button:app.navigation_draw()

            MDRoundFlatButton:
                icon: "sleep"
                text: "NIGHT THEME"
                width: dp(20)
                size_hint_x: ".5"
                size_hint_y: ".1"
                pos_hint: {"center_x": .5, "center_y": .45}
                on_press:

                    app.theme_cls.theme_style = "Light" if app.theme_cls.theme_style == "Dark" else 'Dark'

            MDCard:
                radius:50
                size_hint_x: ".65"
                size_hint_y: ".25"
                pos_hint: {"center_x": .5, "center_y": .65}

            #ColorButtons

            #Orange
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .7, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Orange"

            #BlueGray
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .5, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "BlueGray"

            #Brown
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .3, "center_y": .7}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Brown"

            #Teal
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .3, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Teal"

            #Amber
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .5, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Amber"

            #Blue
            MagicFAB:

                icon: "circle"
                pos_hint: {"center_x": .7, "center_y": .6}
                theme_icon_color: "Custom"
                md_bg_color: app.theme_cls.primary_color
                on_press:
                    self.grow()
                    app.theme_cls.primary_palette = "Blue"



<TestScreen>:
    MDBoxLayout:
        orientation: 'vertical'



        MDScreen:
            ScrollView:
                size_hint_y: 0.73
    	        pos_hint: {'x': 0.2, 'y': 0.2}
    	        do_scroll_x: False
    	        do_scroll_y: True

    	        MDFloatingActionButton:

                    icon: "circle"
                    pos_hint: {"center_x": .7, "center_y": .6}
                    theme_icon_color: "Custom"
                    md_bg_color: app.theme_cls.primary_color
                    on_press:
                        root.manager.transition.direction = "left"
                        root.manager.current = 'menu'


